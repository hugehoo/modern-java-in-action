
# 10.1 스키마의 개념과 유용성
- 카프카의 데이터 흐름은 대부분 브로드캐스트 방식으로, 카프카는 데이터를 전송하는 프로듀서를 일방적으로 신뢰할 수 밖에 없는 방식.
- 프로듀서 관리자는 토픽의 데이터를 컨슘하는 관리자에게 반드시 데이터 구조를 설명해야 하는데, 컨슈머 관리자가 여러명이라면 데이터 구조를 설명하는 일이 쉽지 않다.
- 데이터를 컨슘하는 여러 관리자에게 해당 데이터를 정확히 설명하는 역할을 하는 것이 `스키마`

# 10.2 카프카와 스키마 레지스트리
- 스키마를 카프카에서 활용할 수 있으면 관리자는 데이터 처리 시 유연성을 확보할 수 있고, 불필요한 커뮤니케이션 비용도 줄일 수 있다.

## 10.2.1 스키마 레지스트리 개요
- 스키마 레지스트리라는 별도의 어플리케이션을 이용해 카프카에서 스키마를 사용할 수 있다.
  - 스키마 레지스트리 : 스키마를 관리하고 등록하는 애플리케이션
  - 아파치 오픈소스 라이브러리가 아닌 컨플루언트 커뮤니티 라이런스
- Avro: 스키마 레지스트리가 지원하는 대표적인 데이터 포맷

## 10.2.2 스키마 레지스트리의 에이브로 지원
- Avro : 데이터 교환을 도와주는 오픈소스 직렬화 시스템
  - 빠른 바이너리 데이터 포맷을 지원하며 JSON 형태의 스키마를 정의할 수 있는 간결한 데이터 포맷
- 그외의 데이터 포맷으로는 JSON, 프로토콜 버퍼가 있지만, 다음과 같은 이유로 Avro 를 가장 권장
  - Json 과 매핑된다.
  - 매우 간결한 데이터 포맷.
  - JSON 은 메시지마다 필드 네임이 포함되어 전송되므로 효율이 떨어진다.
  - 에이브로는 바이너리 형태이므로 매우 빠르다.

- 스키마 레지스트리는 HTTP 기반으로 통신이 이뤄짐
- 

